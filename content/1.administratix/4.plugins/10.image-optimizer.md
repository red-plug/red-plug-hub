---
title: Image Optimizer
description: Plugin para optimización y manipulación de imágenes en Administratix
---

# Image Optimizer

El plugin Image Optimizer proporciona una API completa para manipular y optimizar imágenes en tu aplicación Laravel. Ofrece una amplia gama de opciones para transformar imágenes según tus necesidades.

## Parámetros de Transformación

### Rotación y Volteo

#### Rotación (`or`)
Rota la imagen en grados.

**Valores permitidos:**
- `auto`: Rotación automática basada en EXIF
- `0`: Sin rotación
- `90`: Rotación de 90 grados
- `180`: Rotación de 180 grados
- `270`: Rotación de 270 grados

#### Volteo (`flip`)
Voltea la imagen horizontal o verticalmente.

**Valores permitidos:**
- `v`: Volteo vertical
- `h`: Volteo horizontal
- `both`: Volteo en ambas direcciones

### Recorte y Dimensiones

#### Recorte (`crop`)
Recorta la imagen según la posición especificada.

**Valores permitidos:**
- Posiciones predefinidas:
  - `top-left`, `top`, `top-right`
  - `left`, `center`, `right`
  - `bottom-left`, `bottom`, `bottom-right`
- Porcentajes personalizados: `XX%-YY%` (ej: `50%-50%`)

#### Ancho (`w`)
Establece el ancho de la imagen en píxeles.

**Tipo:** Numérico

#### Alto (`h`)
Establece el alto de la imagen en píxeles.

**Tipo:** Numérico

#### Ajuste (`fit`)
Define cómo se ajusta la imagen a las dimensiones especificadas.

**Valores permitidos:**
- `contain`: Mantiene la proporción, ajusta dentro del rectángulo
- `max`: Mantiene la proporción, ajusta al máximo posible
- `fill`: Estira para llenar el rectángulo
- `fill-max`: Estira manteniendo la proporción
- `stretch`: Estira sin mantener la proporción
- `crop`: Recorta para ajustar al rectángulo

### Calidad y Formato

#### DPR (`dpr`)
Device Pixel Ratio para imágenes retina.

**Rango:** 1-8

#### Calidad (`q`)
Calidad de compresión de la imagen.

**Rango:** 0-100

#### Formato (`fm`)
Formato de salida de la imagen.

**Valores permitidos:**
- `jpg`: JPEG
- `pjpg`: JPEG progresivo
- `png`: PNG
- `gif`: GIF
- `webp`: WebP
- `avif`: AVIF

### Efectos y Filtros

#### Brillo (`bri`)
Ajusta el brillo de la imagen.

**Rango:** -100 a 100

#### Contraste (`con`)
Ajusta el contraste de la imagen.

**Rango:** -100 a 100

#### Gamma (`gam`)
Ajusta la gamma de la imagen.

**Rango:** 0.1 a 9.99

#### Nitidez (`sharp`)
Ajusta la nitidez de la imagen.

**Rango:** 0 a 100

#### Desenfoque (`blur`)
Aplica desenfoque a la imagen.

**Rango:** 0 a 100

#### Pixelación (`pixel`)
Aplica efecto de pixelación.

**Rango:** 0 a 1000

#### Filtros (`filt`)
Aplica filtros predefinidos.

**Valores permitidos:**
- `greyscale`: Escala de grises
- `sepia`: Efecto sepia

### Marca de Agua

#### Marca de Agua (`mark`)
URL de la imagen de marca de agua.

#### Ancho de Marca (`markw`)
Ancho de la marca de agua en píxeles.

**Tipo:** Numérico

#### Alto de Marca (`markh`)
Alto de la marca de agua en píxeles.

**Tipo:** Numérico

#### Ajuste de Marca (`markfit`)
Define cómo se ajusta la marca de agua.

**Valores permitidos:**
- `contain`: Mantiene la proporción
- `max`: Ajusta al máximo posible
- `fill`: Llena el espacio
- `stretch`: Estira
- `crop`: Recorta

#### Posición X de Marca (`markx`)
Posición horizontal de la marca de agua.

**Tipo:** Numérico

#### Posición Y de Marca (`marky`)
Posición vertical de la marca de agua.

**Tipo:** Numérico

#### Padding de Marca (`markpad`)
Espaciado alrededor de la marca de agua.

**Tipo:** Numérico

#### Posición de Marca (`markpos`)
Posición predefinida de la marca de agua.

**Valores permitidos:**
- `top-left`, `top`, `top-right`
- `left`, `center`, `right`
- `bottom-left`, `bottom`, `bottom-right`

#### Transparencia de Marca (`markalpha`)
Nivel de transparencia de la marca de agua.

**Rango:** 0 a 100

### Otros Efectos

#### Fondo (`bg`)
Color de fondo para imágenes con transparencia.

#### Borde (`border`)
Configuración del borde de la imagen.

## Ejemplos de Uso

### Rotación y Recorte

```php
// Rotar 90 grados y recortar al centro
$url = $image->transform([
    'or' => '90',
    'crop' => 'center',
    'w' => 800,
    'h' => 600
]);
```

### Marca de Agua

```php
// Agregar marca de agua en la esquina inferior derecha
$url = $image->transform([
    'mark' => '/path/to/watermark.png',
    'markpos' => 'bottom-right',
    'markpad' => 20,
    'markalpha' => 50
]);
```

### Optimización

```php
// Optimizar para web con formato WebP
$url = $image->transform([
    'fm' => 'webp',
    'q' => 80,
    'w' => 1200
]);
```

### Efectos Visuales

```php
// Aplicar efectos visuales
$url = $image->transform([
    'bri' => 10,
    'con' => 20,
    'sharp' => 30,
    'filt' => 'sepia'
]);
```

## Mejores Prácticas

1. **Optimización de Calidad**
   - Usa `q` entre 60-80 para la mayoría de las imágenes web
   - Considera usar formatos modernos como WebP o AVIF

2. **Dimensiones Responsivas**
   - Utiliza `w` y `h` para controlar el tamaño
   - Implementa `dpr` para soporte retina

3. **Marca de Agua**
   - Mantén la transparencia (`markalpha`) entre 30-50
   - Usa `markpad` para espaciado consistente

4. **Rendimiento**
   - Limita el uso de efectos pesados como `blur` y `pixel`
   - Utiliza `fit` apropiadamente para evitar distorsiones

## Solución de Problemas

### Imágenes No se Transforman

1. Verifica los permisos de escritura en el directorio de caché
2. Confirma que la URL de la imagen es accesible
3. Revisa los logs de error de Laravel

### Problemas de Rendimiento

1. Implementa caché para las transformaciones
2. Optimiza el tamaño de las imágenes originales
3. Considera usar CDN para servir las imágenes

## Próximos Pasos

1. [Configuración avanzada](/administratix/plugins/image-optimizer/advanced)
2. [Integración con CDN](/administratix/plugins/image-optimizer/cdn)
3. [Optimización de rendimiento](/administratix/plugins/image-optimizer/performance) 